<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Create Appointment</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    .container { max-width: 500px; margin: 0 auto; }
    .card { border: 1px solid #ddd; border-radius: 10px; padding: 16px; }
    .field { margin-bottom: 12px; }
    label { display: block; margin-bottom: 4px; }
    input, select { width: 100%; padding: 8px; }
    .actions { margin-top: 16px; }
    .btn { padding: 8px 12px; border: 1px solid #ddd; border-radius: 8px; text-decoration: none; }
    .btn.primary { background: #f7f7f7; }
    .error { color: #b00020; margin-bottom: 10px; }
  </style>
</head>
<body>

<div class="container">
  <h1>Create Appointment</h1>

  <div class="card">
    {% if error %}
      <p class="error">{{ error }}</p>
    {% endif %}

    <form method="post">
      <div class="field">
        <label>Patient</label>
        <select name="patient_id">
          {% for p in patients %}
            <option value="{{ p.id }}"
              {% if form and form.patient_id and form.patient_id|int == p.id %}selected{% endif %}>
              {{ p.id }} - {{ p.name }}
            </option>
          {% endfor %}
        </select>
      </div>

      <div class="field">
        <label>Date</label>
        <input type="date" name="date"
               min="{{ today }}"
               value="{{ form.date if form else '' }}"/>
      </div>

      <div class="field">
        <label>Description</label>
        <input name="description" required
               value="{{ form.description if form else '' }}"/>
      </div>

      <div class="actions">
        <button class="btn primary" type="submit">Create</button>
        <a class="btn" href="/appointments">Cancel</a>
      </div>
    </form>
  </div>
</div>

</body>
</html>
